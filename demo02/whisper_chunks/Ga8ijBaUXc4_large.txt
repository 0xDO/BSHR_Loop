{"text": " Hey gang, David Shapiro here introducing a new repo that I'm working on. So this is, as many of you are aware, I've been working with fiction and language models for quite a while. And this one is my chapter summarizer. So what does it do? I can't show you the end result because it's private, it's for my novel, but you're welcome to run it yourself. And you can also test it in the playground if you've got access to the chat API and GPT-4. It will not work anywhere else because of the... and actually it might only work with the API, I haven't actually tried it in here, work with the API. I haven't actually tried it in here but the GPT for API will give you 8000 tokens which if you write longer chapters like I do which is four to five thousand words you need that 8000 tokens. And so the idea though is I wanted a way to get really good feedback really quickly and I tried for months and months with the 4000 token limit. And if you summarizing the chapter could work but not always. And so anyways the final result is now that I've got access to the GPT for API I just created this and suddenly everything is infinite excuse me infinitely easier kind of hiccups. But yeah. So let me walk you through this. I do have instructions here. But yeah. So what you'll need to do is you'll need to create your API key here and then you'll also need to create your folders here. So the the chapters dot docs have put all of your chapters in here as word docs and then this this PowerShell script will summer or sorry convert them to text then that'll they'll end up here. And then finally you run the second one to summarize and it will jump drop the summaries here so that the the the linchpin of this is this prompt here. So this is this is the primary thing that you're trying to achieve. Please write an executive summary of the following chapter followed by a list of the most salient details from the chapter salient detail should include chapter development plot advancement important world building details and any thematic elements. Those are the four primary pillars of good fiction, of all stories. Please write the list of details in complete sentences. Next, please provide some developmental feedback. What is the one biggest thing wrong with this chapter? What is the first and biggest thing I need to work on as the author? Finally, please provide prose feedback by focusing on the dialogue exposition interiority action. And I should actually change this to description. Sorry. You should avoid exposition if you can. But description is good. So I made that mistake there. So anyways, the first script is super simple. It just passes in its PowerShell because if you're using Microsoft Word you can do this part manually too if you want. Like if you're if you're writing your your chapter somewhere else you can copy them out to text files. Doesn't matter. But for this draft I am doing it all as one chapter per Word document just for cleanliness sake. And that's what this does. So it'll drop it all here into chapters text and then I run the second script which is really really straightforward. All it does is in the main loop we set the API key we get the chapters underscore, we get the chapters underscore text, we get the summaries. If it doesn't make it, it'll make the directory for you, which is nice. And then what it does, so here's a couple things to pay attention to. If the program barfs in the middle, you don't want to redo everything, so it'll skip it if it's already been summarized. So then it'll tell you the file that it's reading. It'll open chapter. It will populate the prompt right here and then it will create the conversation. So as of right now GPT-4 is only available at the chat completion endpoint. I don't I think they're moving away from from the original completions endpoint entirely I don't know But anyways, so I give it the the system role is I'm a fiction writing assistant who will always provide thorough professional and detailed Help, it's pretty pretty straightforward You can probably play with this if you want Especially if you wanted to take some elements of the instructions out but especially if you wanted to take some elements of the instructions out, but there's been some, like in some of the documentation, it says that it doesn't pay as much attention to the system message as the user message. So what I do is I have the, I just have this, so it knows that I am a fiction writing assistant. Okay, great. And then I put the prompt in and because I'm using the GPT for endpoint with 8000 tokens it can read the entire chapter. So then I get the summary and then I save out the summary. It is that simple. It's brain dead simple. Now there's a couple other things that I added. So the first time I ran this it ended up failing because of error rate or usage added. So the first time I ran this it ended up failing because of error rate or usage rates. So GPT-4 is presently super super constrained. And so what I did was I added an exponential back off so that if you get an error the first time it'll wait five seconds then 10 seconds then 20 and so on. And I have it it'll ret five seconds, then 10 seconds, then 20, and so on. And I have it, it'll retry up to six times, waiting longer and longer between each time. After I incorporated this, I didn't have any trouble, but that, you know, it is what it is. Another thing that I had to modify was for whatever reason, converting from WordDoc to text still produced some UTF errors on occasion on only like a couple files, so I added the ignore here. So, but here's the thing is GPT-3 doesn't care if you've got a couple of erroneous characters. The big thing is that, oh, actually I didn't include it here, was the force ASCII encode decode, but I haven't had any trouble since. So I think that include it here, was the force-ask-key-encode-decode, but I haven't had any trouble since. So I think that's it. Yeah, and here, let me go back to the repo. Oh, so a couple other things. Like I said, I'm not sure if it'll work here because I look at the maximum length of 2048, so I don't think that they're giving you the full 8,000 tokens here. So I don't think you can actually test it in the playground. But also this is expensive. So I had to restart it a few times, so it's actually about half this. But half my novel, or just over half my novel, cost about somewhere between $4 and $8 to review. Which in the grand scheme of things is hella cheap because it's like four dollars who cares. But then you compare that to like you know some of the other tasks that you guys have seen me do it cost me 43 cents. Right. So because of the volume of the text that it's reading it is a lot more expensive. Still it's way cheaper than a full editor. Now that being said I I added some notes here at the end because I paid a high-end editor to help me with my story, and that experience was still worthwhile. Even though it was like $1,700, I paid a human to read it and to understand what I was trying to achieve. Now that being said, once we get the 32,000 token end point, which I haven't tested that yet or as fast as it's ramping up because 32,000 is 8 times more than the 4,000 token, so who knows, by the end of the summer we might be at 300,000 tokens, which is more than enough to read an entire novel. So I don't know what's going to happen to the professional editing industry, nor the fiction industry. I think we're going to end up with a lot of books out there. But anyways, it is what it is. So yeah, it provides some developmental feedback as well as prose feedback. So when I was using chat GPT to work on the Cornelia Valerii story, my Ascension novel, after I got the first chapter written, which I deleted that video because it was a hot mess, but the thing that I realized was that asking chat GPT what is the biggest problem with this chapter is actually the best way to get it to give you developmental feedback because there's usually going to be only one big problem. But also you can only focus on one problem at a time. Right. So like you know say for instance your chapter is otherwise fine. Maybe it has some issues, but it just doesn't have enough tension. You need to fix that problem first and then see what comes next. You actually can't solve more than one problem at a time, and therefore it's an iterative process. And then finally, I also have it give you some pros feedback just to make sure that at the at the line level that you're doing a good job because those are kind of two different scopes. So it'll give you an executive summary, a list of salient details, developmental feedback, and pros feedback all in one go. It works pretty well. Yeah, so I think that's about it. It's up here on MIT license. Yeah, I guess I'll stop it there. Let me know what you guys think.", "chunks": [{"timestamp": [0.0, 6.64], "text": " Hey gang, David Shapiro here introducing a new repo that I'm working on."}, {"timestamp": [6.64, 13.08], "text": " So this is, as many of you are aware, I've been working with fiction and language models"}, {"timestamp": [13.08, 15.92], "text": " for quite a while."}, {"timestamp": [15.92, 20.34], "text": " And this one is my chapter summarizer."}, {"timestamp": [20.34, 21.34], "text": " So what does it do?"}, {"timestamp": [21.34, 25.36], "text": " I can't show you the end result because it's private, it's for my novel,"}, {"timestamp": [25.36, 29.84], "text": " but you're welcome to run it yourself. And you can also test it in the playground if you've got"}, {"timestamp": [29.84, 38.72], "text": " access to the chat API and GPT-4. It will not work anywhere else because of the..."}, {"timestamp": [38.72, 42.16], "text": " and actually it might only work with the API, I haven't actually tried it in here,"}, {"timestamp": [42.4, 43.68], "text": " work with the API. I haven't actually tried it in here"}, {"timestamp": [46.2, 46.44], "text": " but the GPT for API"}, {"timestamp": [48.36, 48.76], "text": " will give you 8000 tokens"}, {"timestamp": [50.84, 52.92], "text": " which if you write longer chapters like I do which is four to five thousand words"}, {"timestamp": [52.92, 54.52], "text": " you need that 8000 tokens."}, {"timestamp": [55.32, 57.48], "text": " And so the idea though is"}, {"timestamp": [57.84, 59.96], "text": " I wanted a way to get really good feedback"}, {"timestamp": [59.96, 60.84], "text": " really quickly"}, {"timestamp": [61.48, 63.44], "text": " and I tried for months"}, {"timestamp": [63.44, 65.28], "text": " and months with the 4000"}, {"timestamp": [65.28, 66.28], "text": " token limit."}, {"timestamp": [66.44, 69.32], "text": " And if you summarizing"}, {"timestamp": [69.32, 71.44], "text": " the chapter could work but"}, {"timestamp": [71.44, 72.44], "text": " not always."}, {"timestamp": [74.0, 76.04], "text": " And so anyways the final result is now"}, {"timestamp": [76.04, 78.04], "text": " that I've got access to the GPT"}, {"timestamp": [78.04, 80.16], "text": " for API I just created"}, {"timestamp": [80.16, 82.4], "text": " this and suddenly everything is"}, {"timestamp": [82.52, 84.64], "text": " infinite excuse me infinitely easier"}, {"timestamp": [84.64, 85.56], "text": " kind of hiccups."}, {"timestamp": [85.56, 86.56], "text": " But yeah."}, {"timestamp": [86.56, 87.88], "text": " So let me walk you through this."}, {"timestamp": [87.88, 90.96], "text": " I do have instructions here."}, {"timestamp": [90.96, 91.96], "text": " But yeah."}, {"timestamp": [91.96, 96.44], "text": " So what you'll need to do is you'll need to create your API key here and then you'll also"}, {"timestamp": [96.44, 98.22], "text": " need to create your folders here."}, {"timestamp": [98.22, 105.84], "text": " So the the chapters dot docs have put all of your chapters in here as word docs"}, {"timestamp": [106.64, 108.92], "text": " and then this this"}, {"timestamp": [109.56, 112.24], "text": " PowerShell script will summer or sorry convert"}, {"timestamp": [112.24, 114.56], "text": " them to text then that'll"}, {"timestamp": [114.68, 115.64], "text": " they'll end up here."}, {"timestamp": [115.94, 117.96], "text": " And then finally you run the second one to"}, {"timestamp": [117.96, 119.48], "text": " summarize and it will"}, {"timestamp": [120.32, 121.76], "text": " jump drop the summaries here"}, {"timestamp": [123.2, 125.0], "text": " so that the the"}, {"timestamp": [126.88, 128.78], "text": " the linchpin of this is this prompt here. So this is this is"}, {"timestamp": [128.78, 130.68], "text": " the primary thing that you're trying to"}, {"timestamp": [130.68, 131.16], "text": " achieve."}, {"timestamp": [131.52, 133.4], "text": " Please write an executive summary of the"}, {"timestamp": [133.4, 135.24], "text": " following chapter followed by a list of the"}, {"timestamp": [135.24, 137.08], "text": " most salient details from the chapter"}, {"timestamp": [137.48, 139.68], "text": " salient detail should include chapter"}, {"timestamp": [139.68, 141.8], "text": " development plot advancement important world"}, {"timestamp": [141.8, 143.7], "text": " building details and any thematic"}, {"timestamp": [143.7, 149.0], "text": " elements. Those are the four primary pillars of good fiction, of all stories."}, {"timestamp": [149.0, 153.0], "text": " Please write the list of details in complete sentences."}, {"timestamp": [153.0, 156.0], "text": " Next, please provide some developmental feedback."}, {"timestamp": [156.0, 159.0], "text": " What is the one biggest thing wrong with this chapter?"}, {"timestamp": [159.0, 162.0], "text": " What is the first and biggest thing I need to work on as the author?"}, {"timestamp": [162.0, 167.0], "text": " Finally, please provide prose feedback by focusing on the dialogue exposition interiority"}, {"timestamp": [167.0, 168.0], "text": " action."}, {"timestamp": [168.0, 173.0], "text": " And I should actually change this to description."}, {"timestamp": [173.0, 174.0], "text": " Sorry."}, {"timestamp": [174.0, 177.0], "text": " You should avoid exposition if you can."}, {"timestamp": [177.0, 179.0], "text": " But description is good."}, {"timestamp": [179.0, 181.0], "text": " So I made that mistake there."}, {"timestamp": [181.0, 184.0], "text": " So anyways, the first script is super simple."}, {"timestamp": [184.0, 189.6], "text": " It just passes in its PowerShell because if you're using Microsoft Word you can do this"}, {"timestamp": [189.6, 191.2], "text": " part manually too if you want."}, {"timestamp": [191.2, 195.9], "text": " Like if you're if you're writing your your chapter somewhere else you can copy them out"}, {"timestamp": [195.9, 197.44], "text": " to text files."}, {"timestamp": [197.44, 198.44], "text": " Doesn't matter."}, {"timestamp": [198.44, 208.84], "text": " But for this draft I am doing it all as one chapter per Word document just for cleanliness sake."}, {"timestamp": [208.84, 209.84], "text": " And that's what this does."}, {"timestamp": [209.84, 214.72], "text": " So it'll drop it all here into chapters text and then I run the second script which is"}, {"timestamp": [214.72, 218.4], "text": " really really straightforward."}, {"timestamp": [218.4, 227.44], "text": " All it does is in the main loop we set the API key we get the chapters underscore, we get the chapters underscore text, we get the summaries. If it"}, {"timestamp": [227.44, 232.88], "text": " doesn't make it, it'll make the directory for you, which is nice. And then what it does, so here's a"}, {"timestamp": [232.88, 239.28], "text": " couple things to pay attention to. If the program barfs in the middle, you don't want to redo"}, {"timestamp": [239.28, 245.44], "text": " everything, so it'll skip it if it's already been summarized."}, {"timestamp": [245.44, 247.76], "text": " So then it'll tell you the file that it's reading."}, {"timestamp": [247.76, 249.36], "text": " It'll open chapter."}, {"timestamp": [249.36, 255.2], "text": " It will populate the prompt right here and then it will create the conversation."}, {"timestamp": [255.2, 260.2], "text": " So as of right now GPT-4 is only available at the chat completion endpoint."}, {"timestamp": [260.2, 265.72], "text": " I don't I think they're moving away from from the original completions endpoint entirely"}, {"timestamp": [265.72, 266.48], "text": " I don't know"}, {"timestamp": [266.48, 274.24], "text": " But anyways, so I give it the the system role is I'm a fiction writing assistant who will always provide thorough professional and detailed"}, {"timestamp": [274.24, 276.24], "text": " Help, it's pretty pretty straightforward"}, {"timestamp": [276.94, 279.04], "text": " You can probably play with this if you want"}, {"timestamp": [280.64, 284.36], "text": " Especially if you wanted to take some elements of the instructions out"}, {"timestamp": [285.38, 288.52], "text": " but especially if you wanted to take some elements of the instructions out, but there's been some,"}, {"timestamp": [288.52, 290.78], "text": " like in some of the documentation,"}, {"timestamp": [290.78, 292.82], "text": " it says that it doesn't pay as much attention"}, {"timestamp": [292.82, 297.34], "text": " to the system message as the user message."}, {"timestamp": [297.34, 299.82], "text": " So what I do is I have the,"}, {"timestamp": [299.82, 300.66], "text": " I just have this,"}, {"timestamp": [300.66, 302.86], "text": " so it knows that I am a fiction writing assistant."}, {"timestamp": [302.86, 303.78], "text": " Okay, great."}, {"timestamp": [303.78, 305.96], "text": " And then I put the prompt in"}, {"timestamp": [306.64, 309.52], "text": " and because I'm using the GPT for endpoint with 8000"}, {"timestamp": [309.52, 312.2], "text": " tokens it can read the entire"}, {"timestamp": [312.92, 316.36], "text": " chapter. So then I get the summary and then I save"}, {"timestamp": [316.36, 318.36], "text": " out the summary. It is that simple. It's brain dead"}, {"timestamp": [318.36, 320.4], "text": " simple. Now there's a couple other things that I"}, {"timestamp": [320.4, 324.5], "text": " added. So the first time I ran this it ended up"}, {"timestamp": [324.5, 327.0], "text": " failing because of error rate or usage added. So the first time I ran this it ended up failing because of error"}, {"timestamp": [327.0, 334.5], "text": " rate or usage rates. So GPT-4 is presently super super constrained. And so what I did"}, {"timestamp": [334.5, 341.34], "text": " was I added an exponential back off so that if you get an error the first time it'll wait"}, {"timestamp": [341.34, 345.16], "text": " five seconds then 10 seconds then 20 and so on. And I have it it'll ret five seconds, then 10 seconds, then 20, and so on."}, {"timestamp": [345.16, 351.64], "text": " And I have it, it'll retry up to six times, waiting longer and longer between each time."}, {"timestamp": [351.64, 355.76], "text": " After I incorporated this, I didn't have any trouble, but that, you know, it is what it"}, {"timestamp": [355.76, 357.24], "text": " is."}, {"timestamp": [357.24, 362.96], "text": " Another thing that I had to modify was for whatever reason, converting from WordDoc to"}, {"timestamp": [362.96, 367.08], "text": " text still produced some UTF errors on occasion"}, {"timestamp": [367.08, 370.6], "text": " on only like a couple files, so I added the ignore here."}, {"timestamp": [370.6, 373.24], "text": " So, but here's the thing is GPT-3 doesn't care"}, {"timestamp": [373.24, 377.28], "text": " if you've got a couple of erroneous characters."}, {"timestamp": [377.28, 378.8], "text": " The big thing is that,"}, {"timestamp": [379.72, 381.62], "text": " oh, actually I didn't include it here,"}, {"timestamp": [382.76, 388.04], "text": " was the force ASCII encode decode, but I haven't had any trouble since. So I think that include it here, was the force-ask-key-encode-decode, but I haven't had any trouble since."}, {"timestamp": [388.04, 389.68], "text": " So I think that's it."}, {"timestamp": [389.68, 393.48], "text": " Yeah, and here, let me go back to the repo."}, {"timestamp": [393.48, 396.1], "text": " Oh, so a couple other things."}, {"timestamp": [396.1, 401.28], "text": " Like I said, I'm not sure if it'll work here because I look at the maximum length of 2048,"}, {"timestamp": [401.28, 405.64], "text": " so I don't think that they're giving you the full 8,000 tokens here."}, {"timestamp": [405.64, 409.32], "text": " So I don't think you can actually test it in the playground."}, {"timestamp": [409.32, 411.26], "text": " But also this is expensive."}, {"timestamp": [411.26, 415.2], "text": " So I had to restart it a few times, so it's actually about half this."}, {"timestamp": [415.2, 421.0], "text": " But half my novel, or just over half my novel, cost about somewhere between $4 and $8 to"}, {"timestamp": [421.0, 423.76], "text": " review."}, {"timestamp": [423.76, 426.12], "text": " Which in the grand scheme of things is hella cheap"}, {"timestamp": [426.16, 428.12], "text": " because it's like four dollars who cares."}, {"timestamp": [428.76, 430.72], "text": " But then you compare that to like you know"}, {"timestamp": [431.12, 433.24], "text": " some of the other tasks that you guys have seen me do"}, {"timestamp": [433.24, 434.6], "text": " it cost me 43 cents."}, {"timestamp": [435.0, 437.46], "text": " Right. So because of the volume"}, {"timestamp": [437.46, 439.64], "text": " of the text that it's reading it is a lot more"}, {"timestamp": [439.64, 440.36], "text": " expensive."}, {"timestamp": [441.3, 443.32], "text": " Still it's way cheaper than a full"}, {"timestamp": [443.32, 450.68], "text": " editor. Now that being said I I added some notes here at the end because I paid a high-end editor"}, {"timestamp": [450.68, 456.4], "text": " to help me with my story, and that experience was still worthwhile."}, {"timestamp": [456.4, 462.6], "text": " Even though it was like $1,700, I paid a human to read it and to understand what I was trying"}, {"timestamp": [462.6, 472.2], "text": " to achieve. Now that being said, once we get the 32,000 token end point, which I haven't tested that"}, {"timestamp": [472.2, 480.3], "text": " yet or as fast as it's ramping up because 32,000 is 8 times more than the 4,000 token,"}, {"timestamp": [480.3, 485.6], "text": " so who knows, by the end of the summer we might be at 300,000 tokens, which is more"}, {"timestamp": [485.6, 488.84], "text": " than enough to read an entire novel."}, {"timestamp": [488.84, 494.42], "text": " So I don't know what's going to happen to the professional editing industry, nor the"}, {"timestamp": [494.42, 495.42], "text": " fiction industry."}, {"timestamp": [495.42, 499.04], "text": " I think we're going to end up with a lot of books out there."}, {"timestamp": [499.04, 500.84], "text": " But anyways, it is what it is."}, {"timestamp": [500.84, 512.88], "text": " So yeah, it provides some developmental feedback as well as prose feedback. So when I was using chat GPT to work on the Cornelia Valerii story, my"}, {"timestamp": [512.88, 519.16], "text": " Ascension novel, after I got the first chapter written, which I deleted that"}, {"timestamp": [519.16, 524.12], "text": " video because it was a hot mess, but the thing that I realized was that asking"}, {"timestamp": [524.12, 525.7], "text": " chat GPT what is the biggest"}, {"timestamp": [525.7, 530.76], "text": " problem with this chapter is actually the best way to get it to give you developmental"}, {"timestamp": [530.76, 536.54], "text": " feedback because there's usually going to be only one big problem. But also you can"}, {"timestamp": [536.54, 541.88], "text": " only focus on one problem at a time. Right. So like you know say for instance your chapter"}, {"timestamp": [541.88, 547.0], "text": " is otherwise fine. Maybe it has some issues, but it just doesn't have enough tension."}, {"timestamp": [547.4, 550.68], "text": " You need to fix that problem first and then see what comes next."}, {"timestamp": [550.92, 553.76], "text": " You actually can't solve more than one problem at a time,"}, {"timestamp": [554.0, 556.08], "text": " and therefore it's an iterative process."}, {"timestamp": [557.24, 559.96], "text": " And then finally, I also have it give you some pros feedback"}, {"timestamp": [560.76, 564.68], "text": " just to make sure that at the at the line level that you're doing a good job"}, {"timestamp": [564.68, 566.6], "text": " because those are kind of two different scopes."}, {"timestamp": [566.6, 571.1], "text": " So it'll give you an executive summary, a list of salient details,"}, {"timestamp": [571.1, 576.1], "text": " developmental feedback, and pros feedback all in one go."}, {"timestamp": [576.1, 577.6], "text": " It works pretty well."}, {"timestamp": [577.6, 581.3], "text": " Yeah, so I think that's about it."}, {"timestamp": [581.3, 585.54], "text": " It's up here on MIT license."}, {"timestamp": [587.96, 589.48], "text": " Yeah, I guess I'll stop it there."}, {"timestamp": [589.48, 592.14], "text": " Let me know what you guys think."}]}